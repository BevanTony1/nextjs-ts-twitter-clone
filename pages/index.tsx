import Head from 'next/head'
import styles from '../styles/Home.module.scss'
import { useSession, getSession } from 'next-auth/client'
import { Profile } from '../component/Profile'
import { Todo } from '../component/Todo'
import { Loading } from '../component/Loading'
import Landing from '../component/Landing'



export default function Home() {

  const [session, loading] = useSession()
  if (loading) {
    return <Loading />
  }

  console.log(session)

  return (
    <div>
      <Head>
        <title>Todo App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      {session ? (
        <div>
          <Profile name={session.user.name} email={session.user.email} image={session.user.image} />
          <Todo />
        </div>
      ) : (
        <Landing />
      )}




    </div >
  )
}
